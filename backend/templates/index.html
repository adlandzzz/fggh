<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TBGSOSAT - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
<link rel="stylesheet" href="/css/old-style.css">
    <style>
        /* –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è layout */
        .user-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 1rem;
        }
        
        @media (min-width: 768px) {
            .user-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .user-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .footer {
            border-top: 1px solid hsl(var(--border));
            margin-top: 3rem;
        }
        
        .footer-content {
            padding: 1.5rem 0;
            text-align: center;
            color: hsl(var(--muted-foreground));
            font-size: 0.875rem;
        }
        
        .text-muted-foreground {
            color: hsl(var(--muted-foreground));
        }
        
        .font-semibold {
            font-weight: 600;
        }
        
        .text-sm {
            font-size: 0.875rem;
        }
        
        .text-primary {
            color: hsl(var(--primary));
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="/" class="logo">TBGSOSAT PRO</a>
                <nav class="nav">
                    <a href="/" class="nav-link active">üè† –ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="/dashboard" class="nav-link">üìä –î–∞—à–±–æ—Ä–¥</a>
                    <a href="/admin" class="nav-link">‚öôÔ∏è –ê–¥–º–∏–Ω–∫–∞</a>
                    <a href="/api/user" class="nav-link">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main-content">
        <div class="container">
            <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
            <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-header">
                    <h1 class="card-title">üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.username }}!</h1>
                    <span class="badge badge-success">–ê–ö–¢–ò–í–ï–ù</span>
                </div>
                <p class="text-muted-foreground">–†–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å –≤ —Å–∏—Å—Ç–µ–º–µ TBGSOSAT PRO. –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="stats-grid" style="margin-bottom: 1.5rem;">
                <div class="stat-card">
                    <div class="stat-icon">üë§</div>
                    <div class="stat-value">1</div>
                    <div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–Ω–ª–∞–π–Ω</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üì¶</div>
                    <div class="stat-value">
                        {% if orders and orders.orders %}{{ orders.orders }}{% else %}0{% endif %}
                    </div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-value">0</div>
                    <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-value">100%</div>
                    <div class="stat-label">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                </div>
            </div>

            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
            <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-header">
                    <h2 class="card-title">üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h2>
                </div>
                <div class="user-grid">
                    <div>
                        <div class="text-sm text-muted-foreground" style="margin-bottom: 0.25rem;">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
                        <div class="font-semibold">{{ user.username }}</div>
                    </div>
                    <div>
                        <div class="text-sm text-muted-foreground" style="margin-bottom: 0.25rem;">Email</div>
                        <div class="font-semibold">{{ user.email }}</div>
                    </div>
                    <div>
                        <div class="text-sm text-muted-foreground" style="margin-bottom: 0.25rem;">–†–æ–ª—å</div>
                        <div class="font-semibold text-primary">{{ user.role }}</div>
                    </div>
                    <div>
                        <div class="text-sm text-muted-foreground" style="margin-bottom: 0.25rem;">–°—Ç–∞—Ç—É—Å</div>
                        <div>
                            {% if user.is_active %}
                                <span class="badge badge-success">–ê–ö–¢–ò–í–ï–ù</span>
                            {% else %}
                                <span class="badge badge-error">–ù–ï–ê–ö–¢–ò–í–ï–ù</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                </div>
                <div class="button-group">
                    <a href="/dashboard" class="btn">
                        üìä –ü–µ—Ä–µ–π—Ç–∏ –≤ –î–∞—à–±–æ—Ä–¥
                    </a>
                    <a href="/api/orders" class="btn btn-secondary">
                        üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
                    </a>
                    <a href="/admin" class="btn btn-outline">
                        ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã
                    </a>
                    <button onclick="loadUserData()" class="btn btn-outline">
                        üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>TBGSOSAT PRO Management System &copy; 2025. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                <p style="margin-top: 0.5rem;">–¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <strong>{{ user.username }}</strong> ‚Ä¢ –†–æ–ª—å: <strong>{{ user.role }}</strong></p>
            </div>
        </div>
    </footer>

    <script>
        function loadUserData() {
            fetch('/api/user')
                .then(response => response.json())
                .then(data => {
                    alert('‚úÖ –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã!\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ' + data.username);
                })
                .catch(error => {
                    alert('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: ' + error);
                });
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ TBGSOSAT PRO System loaded successfully!');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫
            const cards = document.querySelectorAll('.stat-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>